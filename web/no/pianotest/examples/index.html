<html>
<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.5/p5.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.5/addons/p5.dom.js"></script>
	<script src="../lib/p5.speech.js"></script>
	<script>
	var p5Voice = new p5.Speech();

    var keys = ['C', 'D' ,'E', 'F', 'G', 'Ey', 'B'];
    var accidentals = ["major", "minor"];
    var variants = ['', "contrary-motion", "in thirds", "arpeggio root position", "arpeggio first inversion"];
    var articulation = ["staccato", "legato"];
    var hands = ["both hands", "right hand", "left hand"];

	function setup()
	{
		// button:
		speakbutton = createButton("Start Test");
  		speakbutton.position(10, 10);
  		speakbutton.mousePressed(speak);
	}

	function speak()
	{
        var key = keys[floor(random(keys.length))];
        var accidental = accidentals[floor(random(accidentals.length))];
        var variant = variants[floor(random(variants.length))];
        var artic = articulation[floor(random(articulation.length))];
        if (variant != "in thirds") {
            var hand = hands[floor(random(hands.length))];
            var scale = key+" "+accidental+" "+variant+" "+artic+" "+hand;
        } else if (variant == '') {
            var scale = key+" "+accidental+" "+artic+" "+hand;
        } else {
            var scale = key+" "+accidental+" "+variant+" "+artic;
        }
        console.log(scale);
		p5Voice.speak(scale);
	}
</script>
</head>
<body>
</body>
</html>
